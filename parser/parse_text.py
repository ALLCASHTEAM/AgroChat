from bs4 import BeautifulSoup
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.chrome.service import Service
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
import os
import requests

from bs4 import BeautifulSoup

# Если HTML находится в файле
# with open('test_page.html', 'r', encoding='utf-8') as file:
#     html_content = file.read()

# Если HTML находится в строке
html_content = """
<div class="context"><div class="basic_situation"><div class="layer-title">
                        Basic Situation
                        <div></div></div> <div class="layer"><div class="title"><img src="/img/i.png"> <label>Definition and Types of corn bacterial red stripe disease</label></div> <div class="context">Corn is a type of staple crop that is widely grown and consumed as a source of food, feed, fuel, and industrial products<a href="https://cropprotectionnetwork.org/encyclopedia/bacterial-leaf-streak-of-corn" class="a_up">1</a>. Bacterial red streak disease of corn is a type of bacterial disease that is caused by the bacterium <em>Xanthomonas vasicola</em>. The disease has been observed on field corn, seed corn, popcorn, and sweet corn. The disease is also known as bacterial leaf streak<a href="https://www.pioneer.com/us/agronomy/bacterial-leaf-streak.html" class="a_up">2</a>.</div></div> <div class="layer"><div class="title"><img src="/img/s.png"> <label>The structure and mode of transmission of bacteria</label></div> <div class="context">The pathogenic bacterium that causes bacterial red streak disease of corn reproduces by binary fission, which is a process of asexual reproduction where one bacterial cell divides into two identical daughter cells<a href="https://cropwatch.unl.edu/2017/bacterial-leaf-streak-corn" class="a_up">3</a>. The bacterium survives in infested corn debris near the soil surface and can be splashed onto new plants by rain or irrigation<a href="https://www.pioneer.com/us/agronomy/bacterialleaf-streak.html" class="a_up">4</a>. The bacterium can enter the plant through natural openings or wounds caused by wind, hail, insects, or mechanical damage<a href="https://www.pioneer.com/us/agronomy/bacterial-leaf-streak.html" class="a_up">2</a>. The disease can occur at any growth stage of corn, but it is more severe when infection occurs early in the season<a href="https://www.pioneer.com/us/agronomy/bacterial-leaf-streak.html" class="a_up">2</a>.</div></div> <div class="layer"><div class="title"><img src="/img/w.png"> <label>The onset period and environmental conditions of corn bacterial red stripe disease</label></div> <div class="context">Symptoms can appear as early as the V4 growth stage in the field, but they are more common after tasseling<a href="https://www.pioneer.com/us/agronomy/bacterial-leaf-streak.html" class="a_up">2</a>. The bacterium prefers warm (greater than 80 ºF) and humid conditions for optimal disease development<a href="https://www.pioneer.com/us/agronomy/bacterial-leaf-streak.html" class="a_up">2</a>.</div></div> <div class="layer"><div class="title"><img src="/img/x.png"> <label>Overwintering methods of corn bacterial red stripe disease</label></div> <div class="context">The overwintering method of bacterial red streak disease of corn is not well understood. It is assumed that the bacterium overwinters in infested corn debris near the soil surface that serves as a source of inoculum for new infections<a href="https://www.pioneer.com/us/agronomy/bacterial-leaf-streak.html" class="a_up">2</a>.</div></div> <div class="table"><table><thead><tr><th>Refer to</th></tr></thead> <tbody><tr><td><a href="https://cropprotectionnetwork.org/encyclopedia/bacterial-leaf-streak-of-corn">1:https://cropprotectionnetwork.org/encyclopedia/bacterial-leaf-streak-of-corn</a></td></tr><tr><td><a href="https://www.pioneer.com/us/agronomy/bacterial-leaf-streak.html">2:https://www.pioneer.com/us/agronomy/bacterial-leaf-streak.html</a></td></tr><tr><td><a href="https://cropwatch.unl.edu/2017/bacterial-leaf-streak-corn">3:https://cropwatch.unl.edu/2017/bacterial-leaf-streak-corn</a></td></tr><tr><td><a href="https://www.pioneer.com/us/agronomy/bacterialleaf-streak.html">4:https://www.pioneer.com/us/agronomy/bacterialleaf-streak.html</a></td></tr></tbody></table></div></div> <div class="prevention"><div class="layer-title">
                        Prevention and control measures
                        <div></div></div> <div class="layer"><div class="item1"><div class="item"><div class="title"><img src="/img/Chemical.png"> <label>Chemical control</label></div> <div class="context">There is no effective chemical control for this disease, as fungicides do not work against bacteria<a href="https://www.pioneer.com/us/agronomy/bacterial-leaf-streak.html" class="a_up">1</a> <a href="https://cropwatch.unl.edu/2017/bacterial-leaf-streak-corn" class="a_up">2</a> <a href="https://crops.extension.iastate.edu/cropnews/2018/07/identifying-scouting-and-management-bacterial-leaf-streak" class="a_up">3</a> <a href="https://www.krugerseed.com/en-us/agronomy-library/bacterial-leaf-streak-corn.html" class="a_up">4</a>. Antibiotics are not recommended for field use due to environmental and regulatory concerns<a href="https://cropprotectionnetwork.org/encyclopedia/bacterial-leaf-streak-of-corn" class="a_up">5</a>.</div></div> <div class="item"><div class="title"><img src="/img/Physical.png"> <label>Physical measures</label></div> <div class="context">There are no specific physical measures for this disease, but removing infected plant debris after harvest may help reduce inoculum for the next season<a href="https://cropprotectionnetwork.org/encyclopedia/bacterial-leaf-streak-of-corn" class="a_up">5</a> <a href="https://cropwatch.unl.edu/2017/bacterial-leaf-streak-corn" class="a_up">2</a>.</div></div></div> <div class="item1"><div class="item"><div class="title"><img src="/img/Biological.png"> <label>Biological control</label></div> <div class="context">There is no known biological control for this disease<a href="https://cropprotectionnetwork.org/encyclopedia/bacterial-leaf-streak-of-corn" class="a_up">5</a>.</div></div> <div class="item"><div class="title"><img src="/img/Agricultural.png"> <label>Agricultural control</label></div> <div class="context">The best agricultural practices to manage this disease are crop rotation, planting resistant or tolerant hybrids, avoiding overhead irrigation, and minimizing plant stress<a href="https://cropprotectionnetwork.org/encyclopedia/bacterial-leaf-streak-of-corn" class="a_up">5</a> <a href="https://www.pioneer.com/us/agronomy/bacterial-leaf-streak.html" class="a_up">1</a> <a href="https://cropwatch.unl.edu/2017/bacterial-leaf-streak-corn" class="a_up">2</a> <a href="https://crops.extension.iastate.edu/cropnews/2018/07/identifying-scouting-and-management-bacterial-leaf-streak" class="a_up">3</a> <a href="https://www.krugerseed.com/en-us/agronomy-library/bacterial-leaf-streak-corn.html" class="a_up">4</a>.</div></div></div> <div class="item1"><div class="item item2"><div class="title"><img src="/img/symptoms.png"> <label>Disease symptoms of this disease include</label></div> <div class="context"><div class="left"><ul><li>Symptoms of bacterial leaf streak are tan, brown, or orange lesions that occur between the veins of the corn leaves. Lesions are long, narrow, and less than 1 inch to several inches long. Lesions also can occur close to the leaf midrib or across the leaf blade</li></ul></div> <div class="right"><ul><li>Disease signs of this disease are the presence of bacterial streaming from the lesions when observed under a microscope. This can be done by cutting a small piece of infected leaf tissue and placing it in a drop of water on a glass slide. The bacteria can be seen as thin strands coming out of the leaf tissue<a href="https://cropprotectionnetwork.org/encyclopedia/bacterial-leaf-streak-of-corn" class="a_up">5</a> <a href="https://cropwatch.unl.edu/2017/bacterial-leaf-streak-corn" class="a_up">2</a>. Another sign of this disease is the production of a slimy substance by the bacteria on the leaf surface, which may be visible as droplets or streaks<a href="https://cropprotectionnetwork.org/encyclopedia/bacterial-leaf-streak-of-corn" class="a_up">5</a>.</li></ul></div></div></div></div></div> <div class="table"><table><thead><tr><th>Refer to</th></tr></thead> <tbody><tr><td><a href="#">1:
                                        https://extension.okstate.edu/fact-sheets/pumpkin-and-squash-diseases.html</a></td></tr> <tr><td><a href="https://www.pioneer.com/us/agronomy/bacterial-leaf-streak.html">1:https://www.pioneer.com/us/agronomy/bacterial-leaf-streak.html</a></td></tr><tr><td><a href="https://cropwatch.unl.edu/2017/bacterial-leaf-streak-corn">2:https://cropwatch.unl.edu/2017/bacterial-leaf-streak-corn</a></td></tr><tr><td><a href="https://crops.extension.iastate.edu/cropnews/2018/07/identifying-scouting-and-management-bacterial-leaf-streak">3:https://crops.extension.iastate.edu/cropnews/2018/07/identifying-scouting-and-management-bacterial-leaf-streak</a></td></tr><tr><td><a href="https://www.krugerseed.com/en-us/agronomy-library/bacterial-leaf-streak-corn.html">4:https://www.krugerseed.com/en-us/agronomy-library/bacterial-leaf-streak-corn.html</a></td></tr><tr><td><a href="https://cropprotectionnetwork.org/encyclopedia/bacterial-leaf-streak-of-corn">5:https://cropprotectionnetwork.org/encyclopedia/bacterial-leaf-streak-of-corn</a></td></tr></tbody></table></div></div> <div class="resistance"><div class="layer-title">
                        Resistance level, rapid detection method, infection mechanism
                        <div></div></div> <div class="layer"><div class="item"><div class="title">Resistance level</div> <div class="context"><p>The resistance of the phytopathogenic fungus of the disease: I do not have this information. The disease is caused by a bacterium, not a fungus<a href="https://extension.okstate.edu/e-pest-alerts/site-files/documents/2017/bacterial-leaf-streak-new-corn-disease-found-in-oklahoma-march-29-2017.pdf" class="a_up">1</a> <a href="https://extensionpublications.unl.edu/assets/pdf/ec3034.pdf" class="a_up">2</a> <a href="https://cropwatch.unl.edu/2017/bacterial-leaf-streak-corn" class="a_up">3</a> <a href="https://cropprotectionnetwork.org/encyclopedia/bacterial-leaf-streak-of-corn" class="a_up">4</a>. </p></div></div> <div class="item"><div class="title">Rapid detection method</div> <div class="context"><p>A quick test method for the phytopathogenic fungus of the disease: I do not have this information. The disease is caused by a bacterium, not a fungus<a href="https://extension.okstate.edu/e-pest-alerts/site-files/documents/2017/bacterial-leaf-streak-new-corn-disease-found-in-oklahoma-march-29-2017.pdf" class="a_up">1</a> <a href="https://extensionpublications.unl.edu/assets/pdf/ec3034.pdf" class="a_up">2</a> <a href="https://cropwatch.unl.edu/2017/bacterial-leaf-streak-corn" class="a_up">3</a> <a href="https://cropprotectionnetwork.org/encyclopedia/bacterial-leaf-streak-of-corn" class="a_up">4</a>. </p></div></div> <div class="item"><div class="title">Infection mechanism</div> <div class="context"><p>The mechanism of phytopathogenic infestation of the disease: I do not have this information. The bacterium can enter the plant through stomata or wounds and move from residue onto living plant tissue via rain splash<a href="https://extensionpublications.unl.edu/assets/pdf/ec3034.pdf" class="a_up">2</a> <a href="https://cropwatch.unl.edu/2017/bacterial-leaf-streak-corn" class="a_up">3</a>. The bacterium may produce a slimy substance on the leaf surface<a href="https://cropwatch.unl.edu/2017/bacterial-leaf-streak-corn" class="a_up">3</a>. </p></div></div> <div class="item"><div class="title">The Interaction between Potential Target Genes and Plant Pathogenic
                                Bacteria
                            </div> <div class="context"><p>The potential targets of the phytopathogenic bacteria of the disease: I do not have this information. </p></div></div></div> <div class="table"><table><thead><tr><th>Refer to</th></tr></thead> <tbody><tr><td><a href="https://extension.okstate.edu/e-pest-alerts/site-files/documents/2017/bacterial-leaf-streak-new-corn-disease-found-in-oklahoma-march-29-2017.pdf">1:https://extension.okstate.edu/e-pest-alerts/site-files/documents/2017/bacterial-leaf-streak-new-corn-disease-found-in-oklahoma-march-29-2017.pdf</a></td></tr><tr><td><a href="https://extensionpublications.unl.edu/assets/pdf/ec3034.pdf">2:https://extensionpublications.unl.edu/assets/pdf/ec3034.pdf</a></td></tr><tr><td><a href="https://cropwatch.unl.edu/2017/bacterial-leaf-streak-corn">3:https://cropwatch.unl.edu/2017/bacterial-leaf-streak-corn</a></td></tr><tr><td><a href="https://cropprotectionnetwork.org/encyclopedia/bacterial-leaf-streak-of-corn">4:https://cropprotectionnetwork.org/encyclopedia/bacterial-leaf-streak-of-corn</a></td></tr></tbody></table></div></div></div>
"""

# Использование BeautifulSoup для парсинга HTML
soup = BeautifulSoup(html_content, 'html.parser')

# Нахождение всех div с классом layer внутри div с классом basic_situation
layers = soup.select('div.basic_situation div.layer')

# Обработка каждого div с классом layer
for layer in layers:
    context_div = layer.select_one('div.context')
    context_html = str(context_div)

    # Использование BeautifulSoup для удаления тегов <a>
    context_soup = BeautifulSoup(context_html, 'html.parser')

    # Удаление всех тегов <a>
    for a in context_soup.find_all('a'):
        a.unwrap()

    # Получение текста без тегов <a>
    context_text = context_soup.get_text(separator=' ', strip=True)
    print(context_text)
